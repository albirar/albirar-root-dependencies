<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/markdown/git_flow.md at 12-06-2021 21:48
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <title>Albirar Root Dependencies &#x2013; Workflow and Git</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
<link rel="icon" type="image/png" href="images/logo-albirar-icon.png"></link>
  </head>
  <body class="topBarEnabled">
    <header id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
            <div class="container">
              <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
              </a>
          <nav class="nav-collapse">
            <ul class="nav">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="git_flow.html" title="Git flow">Git flow</a></li>
            <li><a href="nexus.html" title="Maven Central (through nexus)">Maven Central (through nexus)</a></li>
            <li><a href="documentation.html" title="Project documentation">Project documentation</a></li>
            <li><a href="site_template.html" title="Template for site.xml">Template for site.xml</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Info and Reports <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="project-info.html" title="Info">Info</a></li>
            <li><a href="project-reports.html" title="Reports">Reports</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Code <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="https://github.com/albirar/albirar-root-dependencies" title="Source Code">Source Code</a></li>
            <li><a href="https://travis-ci.com/github/albirar/albirar-root-dependencies" title="CI">CI</a></li>
            <li><a href="https://github.com/albirar/albirar-root-dependencies/issues" title="Issues">Issues</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Releases <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="https://search.maven.org/artifact/cat.albirar/albirar-root-dependencies" title="Maven Central">Maven Central</a></li>
        </ul>
      </li>
            </ul>
          </nav>
          <div class="nav-collapse">
          </div>
        </div>
      </div>
    </header>
    <div class="container">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="./" id="bannerLeft"><h2>Albirar Root Dependencies</h2>
</a></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 12-06-2021 21:48<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.4.1</li>
          </ul>
        </div>
      </header>
        <main id="bodyColumn" >
<h1>Workflow and Git</h1>
<p>All <a class="externalLink" href="https://albirar.cat">Albirar projects</a> uses the <a class="externalLink" href="https://guides.github.com/introduction/flow/">Gitflow workflow</a> as strategy to manage the development process. See also <a class="externalLink" href="https://nvie.com/posts/a-successful-git-branching-model/">A successful Git branching model</a>.</p>
<p>This parent pom includes a fully configured <a class="externalLink" href="https://aleksandr-m.github.io/gitflow-maven-plugin/index.html" title="gitflow-maven-plugin">gitflow-maven-plugin</a> to enforce operations of git workflow through maven.</p><section>
<h2><a name="Main_branches"></a>Main branches</h2>
<p>In our workflow with git, two branches holds the production code and the development code:</p>
<ul>

<li><code>master</code> hold the production code</li>
<li><code>develop</code> hold the development code (new features)</li>
</ul>
<p>When a new hotfix is added to <code>master</code>, also should to be added to develop. In other words, develop holds the master and any new development for new features.</p></section><section>
<h2><a name="Summary_of_gitflow_operations"></a>Summary of gitflow operations</h2>
<ol style="list-style-type: decimal">

<li>New feature</li>
<li>Hotfix</li>
<li>New release</li>
</ol><section>
<h3><a name="New_feature"></a>New feature</h3>
<p>Any new feature should to be developed at a specific branch, not in development branch. A new feature should to be added with:</p>
<ul>

<li><code>mvn gitflow:feature-start</code></li>
<li>Coding and commiting</li>
<li>Testing</li>
<li><code>mvn gitflow:feature-finish</code></li>
</ul>
<p>This goal create a new branch from develop, and name it with the following composition:</p>

<div class="source">
<div class="source"><pre class="prettyprint">current_development_version_without_snapshot + feature_name + &quot;-SNAPSHOT&quot;
</pre></div></div>

<p>If the current development version is <code>1.5.10-SNAPSHOT</code> and the new feature is <code>locales</code>, the new pom version is:</p>

<div class="source">
<div class="source"><pre class="prettyprint">1.5.10-locales-SNAPSHOT
</pre></div></div>

<p>And the new created branch for developing this new feature is:</p>

<div class="source">
<div class="source"><pre class="prettyprint">feature/locales
</pre></div></div>

<p>When the feature is completely implemented, the command to finish is:</p>

<div class="source">
<div class="source"><pre class="prettyprint">mvn gitflow:feature-finish
</pre></div></div>

<p>Then, this branch is merged out with develop and pom version is changed to <code>1.5.10-SNAPSHOT</code> to left develop with the current development version.</p></section><section>
<h3><a name="New_hotfix"></a>New hotfix</h3>
<ul>

<li><code>mvn gitflow:hotfix-start</code></li>
<li>Coding and commiting</li>
<li>Testing</li>
<li><code>mvn gitflow:hotfix-finish</code></li>
</ul>
<p>In this case, the origin branch is <code>master</code>. If I suppose that pom version of <code>master</code> is <code>1.0.1</code>, a new branch is created with name <code>hotfix/1.0.2</code> and the pom version in that branch is changed to <code>1.0.2-SNAPSHOT</code>.</p>
<p>When hotfix is implemented, the command to finish is:</p>

<div class="source">
<div class="source"><pre class="prettyprint">mvn gitflow:hotfix-finish
</pre></div></div>

<p>The hotfix branch is merged into master, the master pom version is changed to <code>1.0.2</code>.</p>
<p>Also, the master branch is merged into develop and pom version is changed to <code>1.0.2-SNAPSHOT</code></p>
<p>A new tag is created with name <code>v1.0.2</code> pointing to <code>master</code> HEAD.</p></section><section>
<h3><a name="New_release"></a>New release</h3>
<ul>

<li><code>mvn gitflow:release-start</code></li>
<li>Testing, amending and commit</li>
<li>QA if needed</li>
<li><code>mvn gitflow:release-finish</code></li>
</ul>
<p>When a group of features should to be released, a new <code>release</code> should to be made.</p>
<p>Suppose that master pom version is <code>1.4.1</code>, and development pom version is <code>1.5.0-SNAPSHOT</code>.</p>
<p>The command to start the release process is:</p>

<div class="source">
<div class="source"><pre class="prettyprint">mvn gitflow:release-start
</pre></div></div>

<p>A new branch is created from <code>develop</code>, with the name: <code>release/1.5.0</code>, the pom version for this branch is <code>1.5.0-SNAPSHOT</code>.</p>
<p>After test and QA acceptations, the release can be finished:</p>

<div class="source">
<div class="source"><pre class="prettyprint">mvn gitflow:release-finish
</pre></div></div>

<p>The release branch is merged with master, the master pom version is set to <code>1.5.0</code>, a new tag is created with name <code>v1.5.0</code> pointing to <code>master</code> HEAD.</p>
<p>The release branch is merged, also, with develop, and the develop pom version is set to <code>1.6.0-SNAPSHOT</code>.</p></section></section><section>
<h2><a name="Summary_of_pom_versioning"></a>Summary of pom versioning</h2><section>
<h3><a name="New_feature"></a>New feature</h3>
<p>Only add new feature code to develop!</p>
<p><b>Scenario before feature:</b></p>
<p><code>develop</code>: <code>1.5.0-SNAPSHOT</code></p>
<p><code>master</code>: <code>1.4.44</code></p>
<p><code>tag</code>: <code>v1.4.44</code></p>
<p><b>Scenario after feature</b></p>
<p><code>develop</code>: <code>1.5.0-SNAPSHOT</code></p>
<p><code>master</code>: <code>1.4.44</code></p>
<p><code>tag</code>: <code>v1.4.44</code></p></section><section>
<h3><a name="New_hotfix"></a>New hotfix</h3>
<p>Add new hotfix code to master and develop!</p>
<p><b>Scenario before hotfix:</b></p>
<p><code>develop</code>: <code>1.6.0-SNAPSHOT</code></p>
<p><code>master</code>: <code>1.5.0</code></p>
<p><code>tag</code>: <code>v1.5.0</code></p>
<p><b>Scenario after hotfix</b></p>
<p><code>develop</code>: <code>1.6.0-SNAPSHOT</code></p>
<p><code>master</code>: <code>1.5.1</code></p>
<p><code>tag</code>: <code>v1.5.1</code></p></section><section>
<h3><a name="New_release"></a>New release</h3>
<p>Put the develop code to master!</p>
<p><b>Scenario before release:</b></p>
<p><code>develop</code>: <code>1.5.0-SNAPSHOT</code></p>
<p><code>master</code>: <code>1.4.44</code></p>
<p><code>tag</code>: <code>v1.4.44</code></p>
<p><b>Scenario after release</b></p>
<p><code>develop</code>: <code>1.6.0-SNAPSHOT</code></p>
<p><code>master</code>: <code>1.5.0</code></p>
<p><code>tag</code>: <code>v1.5.0</code></p></section></section>
        </main>
    </div>
    <hr/>
    <footer>
      <div class="container">
        <div class="row">
            <p>&#169;      2021
<a href="https://albirar.cat">Albirar</a>
</p>
        </div>
        <p id="poweredBy" class="pull-right"><a href="https://albirar.cat" title="Albirar" class="builtBy"><img class="builtBy"  alt="Albirar" src="images/logo-albirar-icon.png"    /></a>
</p>
      </div>
    </footer>
  </body>
</html>